---
const { onClick, ...props } = Astro.props;
---

<button
  style="padding: .5rem; border: 2px solid #000; width: fit-content; background-color: #fff;"
  data-button
  data-button-action={onClick}
  {...props}
>
  <slot />
</button>

<script>
  document.querySelectorAll("[data-button]").forEach((button) => {
    button.addEventListener("click", () => {
      console.log(button.dataset.buttonAction);
      const action = eval(button.dataset.buttonAction);
      action();
    });
  });
</script>
